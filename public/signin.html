<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mint CRM - Sign In</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      min-height: 100vh;
      color: #111827;
      overflow-y: hidden;
      background: #ffffff;
    }

    .hero-image {
      background-image: url('/onboarding-hero.png');
      background-size: cover;
      background-position: center;
    }

    .google-icon {
      width: 18px;
      height: 18px;
    }

    input:focus {
      outline: none;
      border-color: #1f2937;
    }

    .sound-btn {
      position: absolute;
      top: 20px;
      left: 20px;
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.3s ease;
      border: none;
    }

    .sound-btn:hover {
      background: rgba(255, 255, 255, 0.3);
    }

    .image-caption {
      position: absolute;
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      padding: 20px 24px;
      border-radius: 16px;
      max-width: 400px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

    .scroll-btn {
      position: absolute;
      bottom: 20px;
      right: 20px;
      width: 44px;
      height: 44px;
      background: rgba(0, 0, 0, 0.8);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.3s ease;
      border: none;
    }

    .scroll-btn:hover {
      background: rgba(0, 0, 0, 0.9);
    }

    .error-text {
      margin-top: 14px;
      color: #dc2626;
      font-size: 0.9rem;
      display: none;
    }

    .status-text {
      margin-top: 14px;
      color: #16a34a;
      font-size: 0.9rem;
      display: none;
    }
  </style>
</head>
<body class="min-h-screen bg-white overflow-y-hidden">
    <div class="min-h-screen flex items-center justify-center p-4 md:p-8">
      <div class="w-full max-w-6xl bg-white rounded-3xl shadow-2xl overflow-hidden grid grid-cols-1 lg:grid-cols-2 min-h-[600px]" style="box-shadow: 0 32px 80px rgba(15, 23, 42, 0.24);">
        <div class="flex items-center justify-center p-8 md:p-12">
          <div class="w-full max-w-md">
            <div class="flex items-center gap-3 mb-6">
              <img src="/icon.png" alt="Mint CRM logo" class="w-10 h-10" />
              <span class="text-sm font-semibold text-gray-600">Mint CRM</span>
            </div>
            <h1 class="text-3xl font-semibold text-gray-900 mb-8">Admin Sign In</h1>

            <form id="signInForm">
              <div class="mb-6">
                <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  placeholder="name@email.com"
                  class="w-full px-4 py-3 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-400 transition-colors"
                  required
                />
              </div>

              <div class="mb-6">
                <label for="password" class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                <input
                  type="password"
                  id="password"
                  name="password"
                  placeholder="********"
                  class="w-full px-4 py-3 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-400 transition-colors"
                  required
                />
              </div>

              <div class="mb-6 text-right">
                <a href="#" class="text-sm text-gray-600 hover:text-gray-900">Forgot password?</a>
              </div>

              <button class="w-full bg-gray-900 text-white py-3 px-6 rounded-xl font-medium hover:bg-gray-800 transition-colors mb-6" type="submit">Sign in</button>
            </form>

            <p class="text-center text-sm text-gray-600">
              Don't have an account? <a href="#" class="text-gray-900 font-medium hover:underline">Sign up</a>
            </p>

            <div class="error-text" id="errorText"></div>
            <div class="status-text" id="statusText"></div>
          </div>
        </div>

        <div class="relative hero-image hidden lg:block">
          <button class="sound-btn" aria-label="Toggle sound" type="button">
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
            </svg>
          </button>

          <div class="image-caption">
            <p class="text-sm text-gray-700 leading-relaxed">
              Welcome to the admin portal. Secure access to manage your platform and monitor all activities.
            </p>
            <div class="flex items-center gap-2 mt-4">
              <button class="p-2 hover:bg-gray-100 rounded-lg transition-colors" type="button">
                <svg class="w-4 h-4 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                </svg>
              </button>
              <button class="px-3 py-1.5 border border-gray-300 rounded-lg text-xs text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-2" type="button">
                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
                </svg>
                Secure Access
              </button>
              <select class="px-3 py-1.5 border border-gray-300 rounded-lg text-xs text-gray-700 hover:bg-gray-50 transition-colors">
                <option>Admin Portal 1.0</option>
                <option>Admin Portal 2.0</option>
              </select>
              <button class="p-2 hover:bg-gray-100 rounded-lg transition-colors" type="button">
                <svg class="w-4 h-4 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                </svg>
              </button>
            </div>
          </div>

          <button class="scroll-btn" aria-label="Scroll up" type="button">
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
            </svg>
          </button>
        </div>
      </div>
    </div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    const SUPABASE_URL = 'https://mfxnghmuccevsxwcetej.supabase.co';
    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1meG5naG11Y2NldnN4d2NldGVqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4NTI1ODAsImV4cCI6MjA4NDQyODU4MH0.lktfglzBMaHd79hLFDRH1HHSwsEwZ56Tv6e287kQiFg';

    const supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
    const form = document.getElementById('signInForm');
    const errorText = document.getElementById('errorText');
    const statusText = document.getElementById('statusText');

    const showError = (message) => {
      errorText.textContent = message;
      errorText.style.display = 'block';
      statusText.style.display = 'none';
    };

    const showStatus = (message) => {
      statusText.textContent = message;
      statusText.style.display = 'block';
      errorText.style.display = 'none';
    };

    const redirectToApp = () => {
      window.location.href = '/index.html';
    };

    const checkSession = async () => {
      const { data } = await supabaseClient.auth.getSession();
      if (data.session) {
        redirectToApp();
      }
    };

    form.addEventListener('submit', async (event) => {
      event.preventDefault();
      const email = form.email.value.trim();
      const password = form.password.value.trim();

      if (!email || !password) {
        showError('Please enter your email and password.');
        return;
      }

      showStatus('Signing in...');
      const { error } = await supabaseClient.auth.signInWithPassword({ email, password });
      if (error) {
        showError(error.message || 'Unable to sign in.');
        return;
      }

      redirectToApp();
    });

    checkSession();
  </script>
</body>
</html>

